# Football Manager Telegram Bot — Skeleton (MVP)

Коротко
- Telegram bot (aiogram) с минимальной функцией регистрации, просмотра клубов и атомарного выбора клуба.
- Простая инфраструктура: Docker Compose (app, worker, postgres, redis).
- Celery (Redis) для фоновых задач (заготовка для симулятора матчей и аукционов).
- SQL-схема в migrations/init.sql — при первом запуске Postgres автоматически применит её (см. заметки ниже).

Что нужно перед запуском
1. Склонируйте репозиторий локально.
2. Создайте файл `.env` по примеру `.env.example` и заполните переменные:
   - BOT_TOKEN — токен вашего Telegram-бота
   - DATABASE_URL — пример: `postgresql://postgres:postgres@db:5432/postgres`
   - REDIS_URL — пример: `redis://redis:6379/0`
3. Запустите:
   - `docker-compose up --build`

После запуска:
- Бот будет работать в контейнере `app` (использует long polling в этом skeleton).
- Worker Celery запущен в контейнере `worker` (использует тот же образ).
- Postgres применит файл `migrations/init.sql` при первом запуске тома (если том пуст).

Команды бота (минимум)
- `/start` — регистрация
- `/clubs` — список клубов и их статус (свободен/занят)
- `/choose <club_id>` — выбор клуба (атомарно)

Дальше я:
- Доразработаю трансферный рынок (выставление игрока, аукционы, покупки).
- Добавлю симулятор матчей и планировщик матчей в worker (Celery Beat или cron).
- Напишу тесты (параллельность выбора клуба, транзакции трансферов).

Если всё в порядке — запустите `docker-compose` как описано и дайте знать об успешном старте. Я продолжу развивать функциональность (трансферы, симуляция матчей, UI в боте).